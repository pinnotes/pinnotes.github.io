{{ define "main" }} 
{{- $imagePath := .Site.Params.blog.list.image | default
"images/abc.jpg" -}} 
{{- $img := (.Resources.ByType "image").GetMatch
"*feature*" -}}
 {{- $borderClass := "hx-mt-8 hx-border-t" -}} 
 {{- $readMore :=
(T "readMore") | default "Read here â†’" -}}
 {{partial "hugo-category-bar.html" .
}}

<div class="hx-mx-auto hx-flex {{ partial `utils/page-width` . }}">
  {{ partial "sidebar.html" (dict "context" . "disableSidebar" true
  "displayPlaceholder" true) }}
  <article
    class="hx-w-full hx-break-words hx-flex hx-min-h-[calc(100vh-var(--navbar-height))] hx-min-w-0 hx-justify-center hx-pb-8 hx-pr-[calc(env(safe-area-inset-right)-1.5rem)]"
  >
    <main class="hx-w-full hx-min-w-0 hx-max-w-6xl hx-px-6 hx-pt-4 md:hx-px-12">
      {{/* {{partial "tag-bar.html" . }} */}}
      <br class="hx-mt-1.5 hx-text-sm" />
      {{/* {{ if .Title }}
      <h1
        class="hx-text-center hx-mt-2 hx-text-4xl hx-font-bold hx-tracking-tight hx-text-slate-900 dark:hx-text-slate-100"
      >
        {{ .Title }}
      </h1>
      {{ end }} */}} {{/*
      <div class="content">{{ .Content }}</div>
      */}} {{/*
      <h1 class="hx-text-center">Blog with featured tag</h1>
      */}}
      <div class="blogs-wrapper">
        {{- $pages := partial "utils/sort-pages" (dict "page" . "by"
        site.Params.blog.list.sortBy "weight" site.Params.blog.list.sortOrder)
        -}} {{/* {{- range where $pages "Params.tags" "intersect" (slice
        "featured") }} */}} {{/* {{- range where $pages "Params.tags"
        "intersect" (slice "featured") }} */}} {{- range $pages }}
        <div class="blog-card hx-mb-10">
          {{/*
          <div class="blog-card-image">
            {{ if .Params.image }}
            <a href="{{ .RelPermalink }}" class="">
              <img
                src="{{"
                .Params.image
                }}
                alt="{{"
                .Title
                }}
                class="blog-card-thumb"
                loading="lazy"
                method="Resize"
                options="600x q80 webp"
              />
            </a>
            {{ else}}
            <a href="{{ .RelPermalink }}" class="">
              <img
                src="{{ $imagePath | relURL }}"
                alt="{{"
                .Title
                }}
                class="blog-card-thumb"
                loading="lazy"
                method="Resize"
                options="600x q80 webp"
              />
            </a>
            {{ end }}
          </div>
          */}}
          <h3>
            <a
              style="color: inherit; text-decoration: none"
              class="blog-card-title hx-block hx-font-semibold hx-text-2xl"
              href="{{ .RelPermalink }}"
              >{{ .Title }}</a
            >
          </h3>
          <a href="{{ .RelPermalink }}">
          <p class="blog-card-description hx-opacity-80 hx-mt-2 hx-leading-7 mathjax-content">
              {{- partial "utils/page-description" . -}}
            </p>
          </a>
          {{- if site.Params.blog.list.displayTags -}} {{with .GetTerms
            "categories"}}
            <p class="blog-card-tags hx-opacity-100 hx-text-sm hx-leading-7 ">
              {{- range . }}
              <a
              class="blog-card-tag mona-sans hx-inline-block hx-mr-2"
              href="{{.RelPermalink}}"
              >#{{ .Name }}</a
              >{{ end -}}
            </p>
            {{ end -}} {{- end -}}

          {{/*
          <p class="hx-opacity-80 hx-mt-1 hx-leading-7">
            <a
              class="hx-text-[color:hsl(var(--primary-hue),100%,50%)] hx-underline hx-underline-offset-2 hx-decoration-from-font"
              href="{{ .RelPermalink }}"
            >
              {{- $readMore -}}
            </a>
          </p>
          */}} {{/*
          <hr
            class="{{$borderClass}} dark:hx-border-neutral-800 contrast-more:hx-border-t contrast-more:hx-border-neutral-400 contrast-more:hx-shadow-none contrast-more:dark:hx-border-neutral-400"
          />
          */}}
        </div>
        {{ end -}}
      </div>
    </main>
  </article>
  <div class="max-xl:hx-hidden hx-h-0 hx-w-64 hx-shrink-0"></div>
</div>

<style>
  .blog-card {
    background-color: #f9f9f9;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    padding: 1.5rem;
    transition: transform 0.2s, box-shadow 0.2s;
  }

  .blog-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);
  }

  .blog-card-title {
    color: #333;
    text-decoration: none;
    transition: color 0.2s;
  }

  .blog-card-title:hover {
    color: #007acc;
  }

  .blog-card-tags {
    margin-top: 0.5rem;
  }

  .blog-card-tag {
    background-color: #e0e7ff;
    color: #1e3a8a;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.875rem;
    text-decoration: none;
    transition: background-color 0.2s, color 0.2s;
  }

  .blog-card-tag:hover {
    background-color: #c7d2fe;
    color: #1e40af;
  }

  .blog-card.description {
    color: #555;
    line-height: 1.6;
  }

  /* Dark mode styles */
  html:is([class~="dark"], [class*="theme-dark"]) {
    .blog-card {
      background-color: #1e293b;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);
    }

    .blog-card:hover {
      box-shadow: 0 6px 10px rgba(0, 0, 0, 0.7);
    }

    .blog-card-title {
      color: #e2e8f0;
    }

    .blog-card-title:hover {
      color: #60a5fa;
    }

    .blog-card-tag {
      background-color: #334155;
      color: #93c5fd;
    }

    .blog-card-tag:hover {
      background-color: #1e40af;
      color: #bfdbfe;
    }

    .blog-card.description {
      color: #cbd5e1;
    }
  }
</style>

{{- end -}}
