{{ $wrapper := .Parent.Get "wrapperId" }}
{{/*  <div>
  <label class="calc-label" for="formula-{{ $wrapper }}">{{ .Get "label" | default "Formula:" }} =</label>
  <input class="calc-formula" type="text" id="formula-{{ $wrapper }}" data-calc-formula value="{{ .Get "value" | default "a + b" }}">
</div>  */}}

{{/*  <div>
  <label class="calc-label" for="formula-{{ $wrapper }}">Formula:</label>
  <span class="calc-formula" id="formula-{{ $wrapper }}" data-calc-formula>
    {{ .Get "value" | default "a + b" }}
  </span>
</div>  */}}

{{/*  <div>
  <label class="calc-label" for="formula-{{ $wrapper }}">
    {{ .Get "label" | default "Formula:" }} =
  </label>
  <p class="calc-formula" id="formula-{{ $wrapper }}" data-calc-formula>
    {{ .Get "value" | default "a + b" }}
  </p>
</div>  */}}

{{ $label := .Get "label" | default (printf "formula_%s" $wrapper) }}
{{ $title := .Get "title" | default $label }}
{{ $hide := .Get "hide" | default "true" }}

{{/*  {{ if not (eq $hide "true") }}  */}}
<div>
  <label class="calc-label" for="formula-{{ $wrapper }}" style="{{ if eq $hide "true" }}display:none;{{ end }}">
    {{ $title }}
  </label>
  <span 
  class="calc-formula"
   id="formula-{{ $wrapper }}"
    data-calc-formula="{{ .Get "value" | default "a + b" }}"
     data-calc-label="{{ $label }}"
     data-calc-hide="{{ $hide }}"
     style="{{ if eq $hide "true" }}display:none;{{ end }}"
     >
    {{ .Get "value" | default "a + b" }}<span class="calc-formula-result"></span>
  </span>
</div>
{{/*  {{ end }}  */}}